Рассмотрим процесс построения кучи за $O(n log n)$.

Для каждого элемента из списка, будем вставлять его в конец кучи и просеивать
вверх. В худшем случае для каждого нового элемента выполняем h итераций, где
h - текущая высота кучи. $ h = log_2(n) $, где n - количество элементов. Тогда 
общая сложность построения кучи будет $ \sum_{i=1}^{n} log_2(i) = log_2(n!) $.
По формуле Стирлинга $ n! \approx \sqrt{2\pi n} \left( \frac{n}{e} \right)^n $,
тогда $ log_2(n!) \approx n log_2(n) - n log_2(e) + \frac{1}{2} log_2(2\pi n) $.
Таким образом, сложность $ O(n log n) $.

В случае inplace построения кучи тоже самое, но h не высота дерева, а уровень
текущего элемента.

Процесс построения кучи за $O(n)$.

Для каждого элемента начиная с предпоследнего уровня и до корня будем просеивать
его вниз. Максимальное количество итераций для элемента на уровне $h$ равно $log_2(n) - h$.
Количество элементов на уровне $h$ равно $2^h$. Тогда общее количество операций:
$ \sum_{h=0}^{log_2(n)} 2^h (log_2(n) - h) $. Пусть $k = log_2(n) - h$, тогда
$h = log_2(n) - k$, и сумма превращается в:
$ \sum_{k=0}^{log_2(n)} 2^{log_2(n) - k} k = n \sum_{k=0}^{log_2(n)} \frac{k}{2^k} $.
$$ n \sum_{k=0}^{log_2(n)} \frac{k}{2^k} < n \sum_{k=0}^{\infty} \frac{k}{2^k} $$


$ \sum_{k=0}^{\infty} \frac{k}{2^k} = 2 $, поскольку $ \sum_{k=0}^{\infty} {x^k} = \frac{1}{1 - x}, |x| < 1 \Rightarrow $
$ \sum_{k=0}^{\infty} k {x^{k - 1}} = \frac{1}{(1 - x)^2} \Rightarrow \sum_{k=0}^{\infty} k {x^k} = \frac{x}{(1 - x)^2} $,
теперь пусть $ x = \frac{1}{2} \Rightarrow \sum_{k=0}^{\infty} {\frac{k}{2^k} = \frac{\frac{1}{2}}{(1 - \frac{1}{2})^2}} = 2 $.

Тогда общее количество операций в данном методе меньше чем $2n$ и сложность алгоритма $O(n)$.